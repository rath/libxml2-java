CC=       @CXX@
OBJS=     libxml.o document.o node.o utils.o
CFLAGS=   @CFLAGS@ @CFLAGS_XML2@ @JDK_INC_DIRS@ -g -O0 -fPIC
LDFLAGS=  @LIBS_XML2@
JNILIB=   @JNILIB@

all: $(JNILIB)

$(JNILIB): $(OBJS)
	$(CC) @FLAG_SHLIB@ -o $@ $(OBJS) $(LDFLAGS)

%.o: %.cpp
	$(CC) $(CFLAGS) -c $< -o $@

clean:
	rm -f $(OBJS)
	rm -f $(JNILIB)

Makefile: Makefile.in ../../../config.status
	cd ../../.. && ./config.status $@

../../../config.status: ../../../configure
	cd ../../.. && ./config.status --recheck

.PHONY: all clean
